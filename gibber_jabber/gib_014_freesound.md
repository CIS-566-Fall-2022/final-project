code


link
[click here](https://gibber.cc/playground/index.html?CmJsdXIgPSBCbHVyKDApCmludiA9IEludmVydCgwKQogCi8vIGNyZWF0ZSB0aGUgaW50ZXJzZWN0aW9uIG9mIGEgc3BoZXJlIGFuZAovLyBhIHJlcGVhdGVkIG1hbmRlbGJ1bGIsIGFuZCByb3VuZCB0aGUgcG9pbnRzIG9mIAovLyBpbnRlcnNlY3Rpb24uIHJlbmRlciB1c2luZyB0aGUgJ2ZyYWN0YWwubG93JwovLyBwcmVzZXQuLi4gdHJ5IGNoYW5naW5nIHRvIGZyYWN0YWwubWVkIG9yIGZyYWN0YWwuaGlnaAovLyBpZiB5b3UgaGF2ZSBhIGdvb2QgZ3JhcGhpY3MgY2FyZC4KcmkgPSBSb3VuZEludGVyc2VjdGlvbigKICBCb3goMikubWF0ZXJpYWwoJ3doaXRlJyksCiAgUmVwZWF0KCAKICAgIHMgPSBNYW5kZWxidWxiKCkubWF0ZXJpYWwoJ3doaXRlJykuc2NhbGUoLjIpLCAKICAgIC4xIAogICksIC4xCikucmVuZGVyKCdmcmFjdGFsLmxvdycpIAogCnZlcmIgPSBSZXZlcmIoJ3NwYWNlJykuYnVzKCkKIAovLyBzZWUgdGhlIGZyZWVzb3VuZCB0dXRvcmlhbCEgCi8vc29tZSBzdHJpbmdzIHNvdW5kIGxpa2UgcGlhbm9zIGFuZCBndWl0YXJzCmdsaXRjaCA9IEZyZWVzb3VuZFs4XSh7IHF1ZXJ5OidzdHJpbmdzJywgbWF4Oi41IH0pCiAgLmNvbm5lY3QoIHZlcmIsIC41ICkKICAuc3ByZWFkKC41KSAvLyBwYW4gdm9pY2VzIGZ1bGwgc3RlcmVvCiAKLy8gcGljayBhbmQgcGxheSBhIHJhbmRvbSBzYW1wbGUKLy8gbmluZSB0aW1lcyBkaXN0cmlidXRlZCBvdmVyIHNpeHRlZW4gc2xvdHMsCi8vIHdoZXJlIGVhY2ggc2xvdCBpcyBhIDEvMTZ0aCBub3RlLgpnbGl0Y2gucGlja3BsYXkuc2VxKAogIFJuZGkoMCwxNCkvKiAzICovICwKICBFdWNsaWQoOSwxNikvKiAxMDExMDEwMTAxMTAxMDEwICovICAKKQogIAovL2Jvb20gYm9vbSBib29tCmtpY2sgPSBLaWNrKCdib29tJykKICAuY29ubmVjdCggdmVyYiwgLjUgKQogIC50cmlnZ2VyLnNlcSggWzEsMl0sIEV1Y2xpZCgzLDgpLyogMTAwMTAwMTAgKi8gICkKICAKdmVyZ2UgPSBCdXMyKCdyZXZlcmInKQp3b290ID0gRnJlZXNvdW5kWzVdKHtxdWVyeTonb3JjaGVzdHJhJywgbWF4Oi41fSkKCQkJLmNvbm5lY3QodmVyZ2UsIC45KQp3b290LnBpY2twbGF5LnNlcSgKCVJuZGkoMCwzKS8qIDIgKi8sCiAgRXVjbGlkKDEsMykvKiAxMDAgKi8gCikKIAovLyBzdGFydCBGRlQKRkZULnN0YXJ0KCkKLy8gdXNlIHNob3J0IHdpbmRvd3MgdG8gY2FwdHVyZSB0cmFuc2llbnRzLiBkZWZhdWx0Ci8vIHdpbmRvdyBpcyA1MTIgc2FtcGxlcywgd2hpY2ggaXMgY29udmVydGVkIHRvIDEyOCBiZWxvdy4gCkZGVC53aW5kb3dTaXplICo9IC4yNQogCm9uZnJhbWUgPSB0ID0+IHsKICAvLyByb3RhdGUgZW50aXJlIGdlb21ldHJ5CiAgcmkucm90YXRlKCB0LDAsMSwwKQogIC8vIHNldCBibHVyIHRvIGRlY3JlYXNlIHdoZW4gZ2xpdGNoIGlzIGxvdWQKICBibHVyLmFtb3VudCA9IGdsaXRjaC5vdXQoMTAsMCw1MTIpCiAgLy8gZm9sZCBtYW5kZWxidWxiIGJhc2VkIG9uIGZyZXF1ZW5jeSBjb250ZW50CiAgLy8gYmV0d2VlbiAxNTAtMTQwMCBIeiAKICBzLmZvbGQgPSAyICsgRkZULm1pZCAqIDUKICAvLyBtYXAgaGlnaCBmcmVxdWVuY2llcyAoYWJvdmUgMTQwMCBIeikgdG8gY29udHJvbAogIC8vIHRoZSAicm91bmRpbmciIChha2Egc21vb3RobmVzcykgb2YgdGhlIHBvaW50cwogIC8vIHdoZXJlIHRoZSBtYW5kZWxidWxiIG1lZXRzIGl0cyBzdXJyb3VuZGluZyBzcGhlcmUuCiAgcmkuYyA9IEZGVC5oaWdoIC8gMgogIC8vIGludmVydCB2aWRlbyBiYXNlZCBvbiBhbmFseXNpcyBvZiBsb3cgZnJlcXVlbmN5IHNpZ25hbHMKICBpbnYudGhyZXNob2xkID0gRkZULmxvdyA+IC45NSA/IDEgOiAwCn0K)

```

blur = Blur(0)
inv = Invert(0)
 
// create the intersection of a sphere and
// a repeated mandelbulb, and round the points of 
// intersection. render using the 'fractal.low'
// preset... try changing to fractal.med or fractal.high
// if you have a good graphics card.
ri = RoundIntersection(
  Box(2).material('white'),
  Repeat( 
    s = Mandelbulb().material('white').scale(.2), 
    .1 
  ), .1
).render('fractal.low') 
 
verb = Reverb('space').bus()
 
// see the freesound tutorial! 
//some strings sound like pianos and guitars
glitch = Freesound[8]({ query:'strings', max:.5 })
  .connect( verb, .5 )
  .spread(.5) // pan voices full stereo
 
// pick and play a random sample
// nine times distributed over sixteen slots,
// where each slot is a 1/16th note.
glitch.pickplay.seq(
  Rndi(0,14)/* 9 */ ,
  Euclid(9,16)/* 1011010101101010 */  
)
  
//boom boom boom
kick = Kick('boom')
  .connect( verb, .5 )
  .trigger.seq( [1,2], Euclid(3,8)/* 10010010 */  )
  
verge = Bus2('reverb')
woot = Freesound[5]({query:'orchestra', max:.5})
			.connect(verge, .9)
woot.pickplay.seq(
	Rndi(0,3)/* 2 */,
  Euclid(1,3)/* 100 */ 
)
 
// start FFT
FFT.start()
// use short windows to capture transients. default
// window is 512 samples, which is converted to 128 below. 
FFT.windowSize *= .25
 
onframe = t => {
  // rotate entire geometry
  ri.rotate( t,0,1,0)
  // set blur to decrease when glitch is loud
  blur.amount = glitch.out(10,0,512)
  // fold mandelbulb based on frequency content
  // between 150-1400 Hz 
  s.fold = 2 + FFT.mid * 5
  // map high frequencies (above 1400 Hz) to control
  // the "rounding" (aka smoothness) of the points
  // where the mandelbulb meets its surrounding sphere.
  ri.c = FFT.high / 2
  // invert video based on analysis of low frequency signals
  inv.threshold = FFT.low > .95 ? 1 : 0
}

```